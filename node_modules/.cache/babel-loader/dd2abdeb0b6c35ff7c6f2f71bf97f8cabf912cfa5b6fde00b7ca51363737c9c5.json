{"ast":null,"code":"const BASE = \"/api/staff\";\nconst toQuery = params => {\n  const sp = new URLSearchParams();\n  Object.entries(params).forEach(([k, v]) => {\n    if (v !== undefined && v !== null && v !== \"\") sp.append(k, v);\n  });\n  return sp.toString();\n};\nconst handle = async res => {\n  var _res$headers$get;\n  const isJson = (_res$headers$get = res.headers.get(\"content-type\")) === null || _res$headers$get === void 0 ? void 0 : _res$headers$get.includes(\"application/json\");\n  const data = isJson ? await res.json() : null;\n  if (!res.ok) {\n    const msg = (data === null || data === void 0 ? void 0 : data.error) || (data === null || data === void 0 ? void 0 : data.message) || `Request failed (${res.status})`;\n    throw new Error(msg);\n  }\n  return data;\n};\n\n/* ================= SCHEDULE ================= */\nexport const getRegularShifts = async userId => {\n  const res = await fetch(`${BASE}/${userId}/regular-shift`);\n  return handle(res); // List<RegularShiftSlot>\n};\n\n/* ================= AVAILABILITY ================= */\nexport const addAvailability = async (userId, {\n  date,\n  start,\n  end\n}) => {\n  const qs = toQuery({\n    date,\n    start,\n    end\n  });\n  const res = await fetch(`${BASE}/${userId}/availability?${qs}`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\nexport const deleteAvailability = async (userId, {\n  date,\n  start,\n  end\n}) => {\n  const qs = toQuery({\n    date,\n    start,\n    end\n  });\n  const res = await fetch(`${BASE}/${userId}/availability?${qs}`, {\n    method: \"DELETE\"\n  });\n  return handle(res); // {message}\n};\n\n/* ================= TIME OFF ================= */\nexport const addTimeOff = async (userId, {\n  date,\n  start,\n  end\n}) => {\n  const qs = toQuery({\n    date,\n    start,\n    end\n  });\n  const res = await fetch(`${BASE}/${userId}/timeoff?${qs}`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\n\n// backend deleteTimeOff: date + start (end yok)\nexport const deleteTimeOff = async (userId, {\n  date,\n  start\n}) => {\n  const qs = toQuery({\n    date,\n    start\n  });\n  const res = await fetch(`${BASE}/${userId}/timeoff?${qs}`, {\n    method: \"DELETE\"\n  });\n\n  // 204 No Content -> handle() json beklemesin\n  if (res.status === 204) return {\n    message: \"Time-off request deleted\"\n  };\n  return handle(res);\n};\n\n/* ================= WORK HOURS ================= */\nexport const checkIn = async userId => {\n  const res = await fetch(`${BASE}/${userId}/work-hours/check-in`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\nexport const checkOut = async userId => {\n  const res = await fetch(`${BASE}/${userId}/work-hours/check-out`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};","map":{"version":3,"names":["BASE","toQuery","params","sp","URLSearchParams","Object","entries","forEach","k","v","undefined","append","toString","handle","res","_res$headers$get","isJson","headers","get","includes","data","json","ok","msg","error","message","status","Error","getRegularShifts","userId","fetch","addAvailability","date","start","end","qs","method","deleteAvailability","addTimeOff","deleteTimeOff","checkIn","checkOut"],"sources":["/Users/cankutaydundar/Desktop/bildine-frontend/src/api/staffApi.js"],"sourcesContent":["const BASE = \"/api/staff\";\n\nconst toQuery = (params) => {\n  const sp = new URLSearchParams();\n  Object.entries(params).forEach(([k, v]) => {\n    if (v !== undefined && v !== null && v !== \"\") sp.append(k, v);\n  });\n  return sp.toString();\n};\n\nconst handle = async (res) => {\n  const isJson = res.headers.get(\"content-type\")?.includes(\"application/json\");\n  const data = isJson ? await res.json() : null;\n\n  if (!res.ok) {\n    const msg = data?.error || data?.message || `Request failed (${res.status})`;\n    throw new Error(msg);\n  }\n  return data;\n};\n\n/* ================= SCHEDULE ================= */\nexport const getRegularShifts = async (userId) => {\n  const res = await fetch(`${BASE}/${userId}/regular-shift`);\n  return handle(res); // List<RegularShiftSlot>\n};\n\n/* ================= AVAILABILITY ================= */\nexport const addAvailability = async (userId, { date, start, end }) => {\n  const qs = toQuery({ date, start, end });\n  const res = await fetch(`${BASE}/${userId}/availability?${qs}`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\n\nexport const deleteAvailability = async (userId, { date, start, end }) => {\n  const qs = toQuery({ date, start, end });\n  const res = await fetch(`${BASE}/${userId}/availability?${qs}`, {\n    method: \"DELETE\"\n  });\n  return handle(res); // {message}\n};\n\n/* ================= TIME OFF ================= */\nexport const addTimeOff = async (userId, { date, start, end }) => {\n  const qs = toQuery({ date, start, end });\n  const res = await fetch(`${BASE}/${userId}/timeoff?${qs}`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\n\n// backend deleteTimeOff: date + start (end yok)\nexport const deleteTimeOff = async (userId, { date, start }) => {\n  const qs = toQuery({ date, start });\n  const res = await fetch(`${BASE}/${userId}/timeoff?${qs}`, {\n    method: \"DELETE\"\n  });\n\n  // 204 No Content -> handle() json beklemesin\n  if (res.status === 204) return { message: \"Time-off request deleted\" };\n  return handle(res);\n};\n\n/* ================= WORK HOURS ================= */\nexport const checkIn = async (userId) => {\n  const res = await fetch(`${BASE}/${userId}/work-hours/check-in`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\n\nexport const checkOut = async (userId) => {\n  const res = await fetch(`${BASE}/${userId}/work-hours/check-out`, {\n    method: \"POST\"\n  });\n  return handle(res); // {message}\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}